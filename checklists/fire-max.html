<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fire Stick Hybrid Ingestion</title>
    <style>
        :root { --bg: #121212; --card: #1e1e1e; --text: #e0e0e0; --laptop: #00bcd4; --server: #bb86fc; --code: #000; }
        body { font-family: system-ui, sans-serif; background: var(--bg); color: var(--text); padding: 20px; max-width: 800px; margin: 0 auto; }
        h1 { border-bottom: 2px solid var(--text); padding-bottom: 10px; }
        .tag { font-size: 0.7em; padding: 2px 6px; border-radius: 4px; vertical-align: middle; margin-left: 8px; font-weight: bold; text-transform: uppercase; }
        .tag-laptop { background: rgba(0, 188, 212, 0.2); color: var(--laptop); border: 1px solid var(--laptop); }
        .tag-server { background: rgba(187, 134, 252, 0.2); color: var(--server); border: 1px solid var(--server); }
        .section { background: var(--card); padding: 20px; margin-bottom: 20px; border-radius: 8px; border-left: 5px solid #333; }
        .section.laptop { border-left-color: var(--laptop); }
        .section.server { border-left-color: var(--server); }
        .task { display: flex; margin-bottom: 12px; cursor: pointer; padding: 6px; border-radius: 4px; align-items: flex-start;}
        .task:hover { background: rgba(255,255,255,0.05); }
        input[type="checkbox"] { margin-right: 15px; transform: scale(1.5); margin-top: 4px; accent-color: var(--laptop); }
        .code-block { background: var(--code); padding: 15px; border-radius: 6px; border: 1px solid #333; position: relative; margin-left: 34px; font-family: monospace; color: #a5d6a7; margin-bottom: 10px;}
        .copy-btn { position: absolute; top: 5px; right: 5px; background: #333; color: #fff; border: none; padding: 4px 8px; cursor: pointer; border-radius: 4px; font-size: 0.8em;}
        .copy-btn:hover { background: #fff; color: #000; }
        .note { display: block; font-size: 0.85em; color: #888; margin-top: 4px; }
        .warning { color: #ffb74d; display: block; margin-bottom: 15px; font-size: 0.9em; background: rgba(255, 183, 77, 0.1); padding: 10px; border-radius: 4px;}
    </style>
</head>
<body>

<h1>âš¡ Fire Stick Hybrid Workflow</h1>
<div class="warning">
    <strong>ðŸ’¡ Pro Tip:</strong> Copy <code>/root/.android/adbkey</code> from your Server to your Laptop's <code>.android</code> folder. <br>
    This allows both devices to control the Fire Stick without a second "Allow Debugging" popup.
</div>

<div class="section laptop">
    <h2 style="color: var(--laptop)">1. Laptop Ingestion (Local Speed)</h2>
    
    <label class="task"><input type="checkbox"> <span><strong>Physical Prep</strong> <span class="note">OOBE Speed Run -> Enable ADB -> Get Local IP.</span></span></label>
    
    <label class="task"><input type="checkbox"> <span><strong>Connect (Local)</strong> <span class="note">Watch Monitor for Popup!</span></span></label>
    <div class="code-block">
        <button class="copy-btn" onclick="copy(this)">Copy</button>
        adb connect 192.168.1.XXX
    </div>

    <label class="task"><input type="checkbox"> <span><strong>Bulk Sideload</strong> <span class="note">Installs Tailscale, Launcher, & Apps fast over LAN.</span></span></label>
    <div class="code-block">
        <button class="copy-btn" onclick="copy(this)">Copy</button>
# PowerShell (Run inside App Folder)
Get-ChildItem *.apk | ForEach-Object { 
    Write-Host "Installing $($_.Name)..." -Fg Cyan
    adb install -r $_.FullName 
}
    </div>

    <label class="task"><input type="checkbox"> <span><strong>Run Config Script</strong> <span class="note">Debloat, Home Button Hijack, Sleep Settings.</span></span></label>
    <div class="code-block">
        <button class="copy-btn" onclick="copy(this)">Copy</button>
# CONFIG & HIJACK
adb shell settings put secure sleep_timeout 0
adb shell settings put system screen_off_timeout 2147460000
adb shell appops set com.spocky.projengmenu SYSTEM_ALERT_WINDOW allow
adb shell pm grant com.spocky.projengmenu android.permission.WRITE_SECURE_SETTINGS
adb shell settings put secure enabled_accessibility_services com.spocky.projengmenu/com.spocky.projengmenu.services.ProjectivyAccessibilityService
# DEBLOAT
adb shell pm disable-user --user 0 com.amazon.device.messaging
adb shell pm disable-user --user 0 com.amazon.tcomm
adb shell pm disable-user --user 0 com.amazon.imdb.tv.android.app
adb shell pm disable-user --user 0 com.amazon.firetv.youtube
adb shell pm disable-user --user 0 com.amazon.bueller.photos
    </div>

    <label class="task"><input type="checkbox"> <span><strong>Disconnect</strong> <span class="note">Free up ADB for the next step.</span></span></label>
    <div class="code-block">
        <button class="copy-btn" onclick="copy(this)">Copy</button>
        adb disconnect
    </div>
</div>

<div class="section">
    <h2 style="color: #fff">2. The Handshake (Manual)</h2>
    <p class="note">Perform these steps on the Desk Monitor.</p>

    <label class="task"><input type="checkbox"> <span><strong>Launch Tailscale</strong> <span class="note">Open app -> Log in with Google/SSO.</span></span></label>
    <label class="task"><input type="checkbox"> <span><strong>Approve Device</strong> <span class="note">Approve in Headscale/Tailscale Admin Console if required.</span></span></label>
    <label class="task"><input type="checkbox"> <span><strong>Verify Hostname</strong> <span class="note">Note the Tailscale IP or MagicDNS name.</span></span></label>
</div>

<div class="section server">
    <h2 style="color: var(--server)">3. Server Management (Remote)</h2>
    
    <label class="task"><input type="checkbox"> <span><strong>Verify in Web App</strong> <span class="note">Check your Management Dashboard. Device should be online.</span></span></label>
    
    <label class="task"><input type="checkbox"> <span><strong>Connect via Web-Scrcpy</strong> <span class="note">Open the browser-based remote control.</span></span></label>
    
    <label class="task"><input type="checkbox"> <span><strong>Final Polish</strong> <span class="note">Use remote mouse to arrange Icons, Hide Settings, Set PINs.</span></span></label>

    <label class="task"><input type="checkbox"> <span><strong>Pack it up</strong> <span class="note">Device is now fully managed and ready to ship.</span></span></label>
</div>

<script>
    function copy(btn) {
        navigator.clipboard.writeText(btn.nextElementSibling.innerText);
        let orig = btn.innerText;
        btn.innerText = "âœ“";
        setTimeout(() => { btn.innerText = orig; }, 1000);
    }
</script>
</body>
</html>
